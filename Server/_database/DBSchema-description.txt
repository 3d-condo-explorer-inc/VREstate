DBSchema-description
--------------------


I. General
==========

All tables, where rows can be modified, have 'Version' field mandatory and 'Created'+'Updated' optional for reference.

All tables, which are referenced by other tables in many-to-one manner and need a delete function, have 'Deleted' bit field to mark as deleted and are never deleted physically.



II. Additional rules
====================

Credentials table is maintained 1-1 with Users table.  When user is deleted, row in Users is marked as deleted and row in Credentials is deleted.

ContactInfo table is maintained 1-1 with Users table in the same manner.

Simultaneous changes to Users and ContactInfo tables' rows are not permitted.



Estate Developer entities are created by Super Admins only.  Super Admins are the only user type allowed to have no EstateDeveloperID reference.  First Estate Developer user is created by Super Admins; more Estate Developer users can be created by existing active Estate Developers, assuming the same EstateDeveloperID.  Subcontractors and Salespersons are also created/deleted by Estate Developer within same EstateDeveloperID.  Estate Developers can delete each other within a single EstateDeveloperID, at least one Estate Developer is always kept active within a single EstateDeveloperID.

Buyers create themselves autonomously.  Only buyer himself or Super Admin can delete a Buyer record.



Buildings are created by Estate Developer users only.  During creation a list of associated Suites is generated by pattern.  Each suite is associated with its own exclusive Option of type 'Suite'; this option type cannot be removed or added to another Suite row.  This option represents base suite price.  As for all options, price for this option (suite) can be set and changed; history is kept within a list of associated rows in Prices table.



Suite options are generated on per-biulding basis by Estate Developer or Subcontractor.  Options are associated with Sutes by Estate Developer so that each Suite has an exclusive list of options available.



Account is created by Buyer for each Suite he is/was interested in.  Account has a list of Transactions; each transaction has a list of Options selected for a Suite.  At no moment it is possible, that a set of Options selected within all Transactions for a single Account contain two or more Optins with same Material; such options are considered mutually exclusive.



20101024
